/*ORACLE 12c and above*/
CREATE TABLE CREDIT_CARD 
(
  CREDIT_CARD_ID NUMBER(10, 0) GENERATED ALWAYS AS IDENTITY INCREMENT BY 1 MAXVALUE 9999999999999999999999999999 MINVALUE 1 CACHE 20 NOT NULL 
, CARD_NUMBER SIST_RESTRITO.TO_ENCRYPTED_RAW_DATA 
, FINAL_CARD_NUMBER VARCHAR2(4 BYTE) 
, SIGNATURE SIST_RESTRITO.TO_ENCRYPTED_BLOB_DATA 
, CONSTRAINT CREDIT_CARD_PK PRIMARY KEY 
  (
    CREDIT_CARD_ID 
  )
) 


/*For older versions */ 
CREATE TABLE CREDIT_CARD 
(
  CREDIT_CARD_ID NUMBER(10, 0) NOT NULL 
, CARD_NUMBER SIS_RESTRITO.TO_ENCRYPTED_RAW_DATA 
, FINAL_CARD_NUMBER VARCHAR2(4 BYTE) 
, SIGNATURE SIS_RESTRITO.TO_ENCRYPTED_BLOB_DATA 
, CONSTRAINT CREDIT_CARD_PK PRIMARY KEY 
  (
    CREDIT_CARD_ID 
  )
) 

CREATE SEQUENCE CREDIT_CARD_SEQ START WITH 1;

CREATE OR REPLACE TRIGGER TRG_CREDIT_CARD
BEFORE INSERT ON CREDIT_CARD 
FOR EACH ROW
BEGIN
  :new.CREDIT_CARD_ID := CREDIT_CARD_SEQ.nextval;
END;